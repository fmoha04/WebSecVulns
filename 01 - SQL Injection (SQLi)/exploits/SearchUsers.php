<?php

  // credentials
  $server = "localhost";
  $username = "fmoha";
  $password = "fmoha";
  $database = "db";

  //database connection
  $conn = new mysqli($server, $username, $password, $database);

  // get parameter
  $id = $_GET['id'];

  //show exceptions and errors
  mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);
  error_reporting(E_ALL);
  ini_set('display_errors', 1);

  //try-catch-query
  try {
  
    $data = mysqli_query($conn, "select username from users where id = '$id'");
    $response = mysqli_fetch_array($data);
    echo $response['username'];

  } catch (mysqli_sql_exception $e) {
  
    die("SQL ERROR: " . $e->getMessage());

  }
  
?>
